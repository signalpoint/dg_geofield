dg.createModule("dg_geofield"),dg_geofield._latitude=null,dg_geofield.getLatitude=function(){return dg_geofield._latitude},dg_geofield.setLatitude=function(e){dg_geofield._latitude=e},dg_geofield._longitude=null,dg_geofield.getLongitude=function(){return dg_geofield._longitude},dg_geofield.setLongitude=function(e){dg_geofield._longitude=e},dg_geofield.getCurrentPosition=function(e,i,o){var d="undefined"!=typeof device&&"Android"==device.platform;e||(e=function(){}),i||(i=function(){}),o||(o={enableHighAccuracy:!0});var t=function(i){dg_geofield.setLatitude(i.coords.latitude),dg_geofield.setLongitude(i.coords.longitude),e(i)},n=function(){navigator.geolocation.getCurrentPosition(t,i,o)};if(!d)return void n();var g=cordova.plugins.permissions,u=g.ACCESS_FINE_LOCATION,l=function(){i({code:1,message:dg.t("User denied Geolocation.")})},f=function(e){e.hasPermission?n():g.requestPermission(u,function(e){e.hasPermission?n():l()},l)};g.checkPermission(u,f,l)};